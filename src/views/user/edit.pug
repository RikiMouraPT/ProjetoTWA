extends ../layouts/app

block content
  h1 Editar Utilizador: #{user.name}
  
  form(action=`/users/${user.id}?_method=PUT` method=`POST`)
    div
      label Nome: 
      input(type=`text` name=`name` value=user.name required)
    div
      label Email: 
      input(type=`email` name=`email` value=user.email required)
    div
      label Password: 
      input(type=`password` name=`password` placeholder=`Nova pass (opcional)`)
    div
      label Cargo: 
      select(name=`role`)
        option(value=`employee` selected=(user.role == 'employee')) Employee
        option(value=`manager` selected=(user.role == 'manager')) Manager
    div
      label Departamento: 
      select(name=`department_id`)
        option(value=`` selected=(user.department_id == null)) -- Selecionar Departamento --
        each department in departments
          if department.id == user.department_id
            option(value=department.id selected)= department.name
          else
            option(value=department.id)= department.name
    
    hr 
    a(href=`javascript:history.back()`, style=`text-decoration:none; border: 1px solid black; padding: 5px; margin-right: 5px;`) ⮜ Voltar
    button(type=`submit`, style=`text-decoration:none; border: 1px solid black; padding: 5px;`) ✔ Submeter